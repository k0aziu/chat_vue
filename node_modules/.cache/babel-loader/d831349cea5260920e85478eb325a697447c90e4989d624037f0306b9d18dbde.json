{"ast":null,"code":"import '@mdi/font/css/materialdesignicons.css';\nimport ShopCard from '@/components/ShopCard.vue';\nimport axios from 'axios';\nexport default {\n  name: 'ProductsMain',\n  components: {\n    ShopCard\n  },\n  data() {\n    return {\n      is_loading: false,\n      searching_text: \"\",\n      object_products: {},\n      not_found: false\n    };\n  },\n  computed() {\n    if (this.searching_text.length === 0) {\n      this.is_loading = false;\n    }\n  },\n  methods: {\n    async requestForCards() {\n      this.object_products = {};\n      if (this.searching_text.length > 0) {\n        axios.post('/products_searching', {\n          searching_text: this.searching_text\n        }).then(response => {\n          this.object_products = response.data;\n          if (Object.keys(response.data).length === 0) {\n            this.not_found = true;\n          }\n        });\n        if (this.searching_text === \"\") {\n          return;\n        }\n        this.is_loading = false;\n      } else {\n        this.is_loading = false;\n      }\n    }\n  },\n  mounted() {\n    let timer = null;\n    const waitTime = 1000;\n    const input = document.querySelector('input');\n    this.not_found = false;\n    input.addEventListener('input', () => {\n      clearTimeout(timer);\n      this.is_loading = true;\n      timer = setTimeout(() => {\n        if (this.searching_text === input.value) {\n          this.requestForCards();\n        }\n      }, waitTime);\n    });\n  }\n};","map":{"version":3,"names":["ShopCard","axios","name","components","data","is_loading","searching_text","object_products","not_found","computed","length","methods","requestForCards","post","then","response","Object","keys","mounted","timer","waitTime","input","document","querySelector","addEventListener","clearTimeout","setTimeout","value"],"sources":["/home/koziuu/Desktop/hakaton/teapot_test_with_server/src/components/ProductsMain.vue"],"sourcesContent":["<template>\n    <v-main>\n        <v-container>\n            <v-text-field v-model=\"searching_text\" class=\"rounded\" :loading=\"is_loading\" label=\"Szukaj...\"\n                append-inner-icon=\"mdi-magnify\"></v-text-field>\n            <v-row>\n                <v-col>\n                    <ShopCard width=\"500\" v-for=\"(value, key) in object_products\" :key=\"key\"\n                        :product_name=\"value.product_name\" :seller_avatar=\"value.seller_avatar\"\n                        :seller_name=\"value.seller_name\" :product_desc=\"value.product_desc\"\n                        :product_image=\"value.product_image\" :seller_id=\"value.seller_id\" :product_id=\"value.product_id\" />\n                </v-col>\n            </v-row>\n            <v-card v-if=\"not_found && searching_text !== ''\" variant=\"tonal\" class=\"mx-auto max-w-md\">\n                <v-card-title class=\"text-center\">\n                    <p class=\"text-h3 mt-10\">Nie znaleziono</p>\n                    <v-icon size=\"150\" class=\"ma-10\">mdi-magnify-remove-outline</v-icon>\n                </v-card-title>\n            </v-card>\n        </v-container>\n    </v-main>\n</template>\n\n<script>\nimport '@mdi/font/css/materialdesignicons.css'\nimport ShopCard from '@/components/ShopCard.vue'\nimport axios from 'axios'\n\nexport default {\n    name: 'ProductsMain',\n    components: {\n        ShopCard\n    },\n    data() {\n        return {\n            is_loading: false,\n            searching_text: \"\",\n            object_products: {},\n            not_found: false\n        }\n    },\n    computed() {\n        if (this.searching_text.length === 0) {\n            this.is_loading = false\n        }\n    },\n    methods: {\n        async requestForCards() {\n            this.object_products = {}\n            if (this.searching_text.length > 0) {\n                axios.post('/products_searching', {\n                    searching_text: this.searching_text\n                }).then(response => {\n                    this.object_products = response.data\n                    if (Object.keys(response.data).length === 0) {\n                        this.not_found = true\n                    }\n                })\n                if (this.searching_text === \"\") {\n                    return\n                }\n                this.is_loading = false\n            }\n            else {\n                this.is_loading = false\n            }\n        }\n    },\n    mounted() {\n        let timer = null\n        const waitTime = 1000\n        const input = document.querySelector('input')\n        this.not_found = false\n\n        input.addEventListener('input', () => {\n            clearTimeout(timer)\n            this.is_loading = true\n            timer = setTimeout(() => {\n                if (this.searching_text === input.value) {\n                    this.requestForCards();\n                }\n            }, waitTime);\n        }\n        )\n    }\n}\n</script>"],"mappings":"AAwBA,OAAO,uCAAsC;AAC7C,OAAOA,QAAO,MAAO,2BAA0B;AAC/C,OAAOC,KAAI,MAAO,OAAM;AAExB,eAAe;EACXC,IAAI,EAAE,cAAc;EACpBC,UAAU,EAAE;IACRH;EACJ,CAAC;EACDI,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,UAAU,EAAE,KAAK;MACjBC,cAAc,EAAE,EAAE;MAClBC,eAAe,EAAE,CAAC,CAAC;MACnBC,SAAS,EAAE;IACf;EACJ,CAAC;EACDC,QAAQA,CAAA,EAAG;IACP,IAAI,IAAI,CAACH,cAAc,CAACI,MAAK,KAAM,CAAC,EAAE;MAClC,IAAI,CAACL,UAAS,GAAI,KAAI;IAC1B;EACJ,CAAC;EACDM,OAAO,EAAE;IACL,MAAMC,eAAeA,CAAA,EAAG;MACpB,IAAI,CAACL,eAAc,GAAI,CAAC;MACxB,IAAI,IAAI,CAACD,cAAc,CAACI,MAAK,GAAI,CAAC,EAAE;QAChCT,KAAK,CAACY,IAAI,CAAC,qBAAqB,EAAE;UAC9BP,cAAc,EAAE,IAAI,CAACA;QACzB,CAAC,CAAC,CAACQ,IAAI,CAACC,QAAO,IAAK;UAChB,IAAI,CAACR,eAAc,GAAIQ,QAAQ,CAACX,IAAG;UACnC,IAAIY,MAAM,CAACC,IAAI,CAACF,QAAQ,CAACX,IAAI,CAAC,CAACM,MAAK,KAAM,CAAC,EAAE;YACzC,IAAI,CAACF,SAAQ,GAAI,IAAG;UACxB;QACJ,CAAC;QACD,IAAI,IAAI,CAACF,cAAa,KAAM,EAAE,EAAE;UAC5B;QACJ;QACA,IAAI,CAACD,UAAS,GAAI,KAAI;MAC1B,OACK;QACD,IAAI,CAACA,UAAS,GAAI,KAAI;MAC1B;IACJ;EACJ,CAAC;EACDa,OAAOA,CAAA,EAAG;IACN,IAAIC,KAAI,GAAI,IAAG;IACf,MAAMC,QAAO,GAAI,IAAG;IACpB,MAAMC,KAAI,GAAIC,QAAQ,CAACC,aAAa,CAAC,OAAO;IAC5C,IAAI,CAACf,SAAQ,GAAI,KAAI;IAErBa,KAAK,CAACG,gBAAgB,CAAC,OAAO,EAAE,MAAM;MAClCC,YAAY,CAACN,KAAK;MAClB,IAAI,CAACd,UAAS,GAAI,IAAG;MACrBc,KAAI,GAAIO,UAAU,CAAC,MAAM;QACrB,IAAI,IAAI,CAACpB,cAAa,KAAMe,KAAK,CAACM,KAAK,EAAE;UACrC,IAAI,CAACf,eAAe,EAAE;QAC1B;MACJ,CAAC,EAAEQ,QAAQ,CAAC;IAChB,EACA;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}