{"ast":null,"code":"import io from 'socket.io-client';\n// import axios from 'axios'\n\nexport default {\n  name: 'MainChat',\n  data() {\n    return {\n      bottom: '',\n      message: 'chuj',\n      connection: null,\n      messages: [\n        // { id: 0, name: 'kaziu', message: 'coś' },\n        // { id: 1, name: 'kaziu', message: 'coś innego' },\n        // { id: 2, name: 'mizet', message: 'ej mizcom jest przecież lepszy!' },\n        // { id: 3, name: 'kaziu', message: 'wcale nie!' }\n      ]\n    };\n  },\n  methods: {\n    scrollBottom() {\n      this.bottom = document.body.scrollHeight;\n      window.scrollTo(0, this.bottom);\n    },\n    ping() {\n      const socket = io.connect();\n      socket.emit('clicked');\n    }\n  },\n  // created() {\n  //   axios.post('/chat_history', {\n  //     headers: { 'Content-Type': 'application/json' }\n  //   })\n  //     .then(response => {\n  //       const obj = JSON.parse(response.config.data)\n  //       obj.forEach(element => {\n  //         this.messages.push(element)\n  //       });\n\n  //     })\n  // },\n  computed: {\n    update() {\n      const socket = io.connect();\n      socket.on('ping', function (data) {\n        this.message = data;\n      });\n      return false;\n    }\n  }\n};","map":{"version":3,"names":["io","name","data","bottom","message","connection","messages","methods","scrollBottom","document","body","scrollHeight","window","scrollTo","ping","socket","connect","emit","computed","update","on"],"sources":["C:\\Users\\micha\\Desktop\\kazcom\\src\\components\\MainChat.vue"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <v-row :scroll-target=\"onScroll\" style=\"margin-bottom: 20px;\">\r\n      <v-card @click=\"scrollBottom\" v-for=\"message in messages\" :key=\"message.id\" :title=\"message.name\" variant=\"tonal\"\r\n        :text=\"message.message\" style=\"width: 100%; margin: 10px 10px 10px 10px;\"></v-card>\r\n    </v-row>\r\n    <v-text-field label=\"Label\" :append-icon=\"message ? 'mdi-send' : 'mdi-emoticon'\" @click:append=\"update\"\r\n      variant=\"solo\" v-model=\"message\"></v-text-field>\r\n      <v-button @click=\"update\"></v-button>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport io from 'socket.io-client';\r\n// import axios from 'axios'\r\n\r\nexport default {\r\n  name: 'MainChat',\r\n  data() {\r\n    return {\r\n      bottom: '',\r\n      message: 'chuj',\r\n      connection: null,\r\n      messages: [\r\n        // { id: 0, name: 'kaziu', message: 'coś' },\r\n        // { id: 1, name: 'kaziu', message: 'coś innego' },\r\n        // { id: 2, name: 'mizet', message: 'ej mizcom jest przecież lepszy!' },\r\n        // { id: 3, name: 'kaziu', message: 'wcale nie!' }\r\n      ]\r\n    }\r\n  }, methods: {\r\n    scrollBottom() {\r\n      this.bottom = document.body.scrollHeight\r\n      window.scrollTo(0, this.bottom);\r\n    },\r\n    ping() {\r\n      const socket = io.connect();\r\n      socket.emit('clicked');\r\n    }\r\n  },\r\n  // created() {\r\n  //   axios.post('/chat_history', {\r\n  //     headers: { 'Content-Type': 'application/json' }\r\n  //   })\r\n  //     .then(response => {\r\n  //       const obj = JSON.parse(response.config.data)\r\n  //       obj.forEach(element => {\r\n  //         this.messages.push(element)\r\n  //       });\r\n\r\n  //     })\r\n  // },\r\n  computed: {\r\n    update() {\r\n      const socket = io.connect();\r\n      socket.on('ping', function (data) {\r\n        this.message = data\r\n      })\r\n      return false\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":"AAaA,OAAOA,EAAC,MAAO,kBAAkB;AACjC;;AAEA,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,EAAE;MACVC,OAAO,EAAE,MAAM;MACfC,UAAU,EAAE,IAAI;MAChBC,QAAQ,EAAE;QACR;QACA;QACA;QACA;MAAA;IAEJ;EACF,CAAC;EAAEC,OAAO,EAAE;IACVC,YAAYA,CAAA,EAAG;MACb,IAAI,CAACL,MAAK,GAAIM,QAAQ,CAACC,IAAI,CAACC,YAAW;MACvCC,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAACV,MAAM,CAAC;IACjC,CAAC;IACDW,IAAIA,CAAA,EAAG;MACL,MAAMC,MAAK,GAAIf,EAAE,CAACgB,OAAO,EAAE;MAC3BD,MAAM,CAACE,IAAI,CAAC,SAAS,CAAC;IACxB;EACF,CAAC;EACD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACAC,QAAQ,EAAE;IACRC,MAAMA,CAAA,EAAG;MACP,MAAMJ,MAAK,GAAIf,EAAE,CAACgB,OAAO,EAAE;MAC3BD,MAAM,CAACK,EAAE,CAAC,MAAM,EAAE,UAAUlB,IAAI,EAAE;QAChC,IAAI,CAACE,OAAM,GAAIF,IAAG;MACpB,CAAC;MACD,OAAO,KAAI;IACb;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}