{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'ShowLogin',\n  data() {\n    return {\n      reg: false,\n      username: '',\n      email: '',\n      password: '',\n      nameRules: [v => !!v || 'Nazwa użytkownika jest wymagana', v => /^[a-zA-Z]{3,15}$/i.test(v) || 'Nazwa użytkownika nie jest poprawna'],\n      emailRules: [v => !!v || 'Email jest wymagany', v => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/i.test(v) || 'Email nie jest poprawny'],\n      passwordRules: [v => !!v || 'Hasło jest wymagane', v => /^[a-zA-Z]{8,100}$/i.test(v) || 'Hasło nie jest poprawne']\n    };\n  },\n  methods: {\n    login() {\n      axios.post('/login_user', {\n        name: this.username,\n        email: this.email,\n        password: this.password\n      }, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        const obj = response.data;\n        console.log(response.data);\n        if (obj.name === undefined || obj.email === undefined || obj.password === undefined) {\n          return;\n        }\n        localStorage.setItem('user_name', obj.name);\n        localStorage.setItem('user_email', obj.email);\n        localStorage.setItem('user_password', obj.password);\n        window.location.href = '/chat';\n      });\n    },\n    register() {\n      axios.post('/add_user', {\n        name: this.username,\n        email: this.email,\n        password: this.password\n      }, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        const obj = response.data;\n        console.log(response.data);\n        if (obj.name === undefined || obj.email === undefined || obj.password === undefined) {\n          return;\n        }\n        localStorage.setItem('user_name', obj.name);\n        localStorage.setItem('user_email', obj.email);\n        localStorage.setItem('user_password', obj.password);\n        window.location.href = '/chat';\n      });\n    }\n  },\n  computed: {\n    valid() {\n      return /^[a-zA-Z]{3,15}$/i.test(this.name) && /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/i.test(this.email) && /^[a-zA-Z]{8,100}$/i.test(this.password);\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","reg","username","email","password","nameRules","v","test","emailRules","passwordRules","methods","login","post","headers","then","response","obj","console","log","undefined","localStorage","setItem","window","location","href","register","computed","valid"],"sources":["C:\\Users\\micha\\Desktop\\kazcom\\src\\components\\ShowLogin.vue"],"sourcesContent":["<template>\n    <v-main justify=\"center\">\n        <v-container fluid fill-height justify=\"center\">\n            <v-row justify=\"center\" class=\"mt-10\">\n                <v-col cols=\"12\" md=\"4\" justify=\"center\">\n                    <v-card class=\"elevation-12\" justify=\"center\">\n                        <v-toolbar dark color=\"rgb(224, 224, 224)\">\n                            <v-toolbar-title class=\"text-h5\">\n                                {{ !this.reg ? 'Zaloguj się' : 'Zajerestruj się' }}\n                            </v-toolbar-title>\n                        </v-toolbar>\n                        <v-card-text>\n                            <v-form @submit.prevent=\"login\">\n                                <v-text-field label=\"Username\" v-model=\"username\" type=\"text\" :rules=\"nameRules\"\n                                    required></v-text-field>\n                                <v-text-field label=\"Email\" v-model=\"email\" type=\"email\" :rules=\"emailRules\"\n                                    required></v-text-field>\n                                <v-text-field label=\"Hasło\" v-model=\"password\" type=\"password\" :rules=\"passwordRules\"\n                                    required></v-text-field>\n                            </v-form>\n                        </v-card-text>\n                        <v-card-actions>\n                            <v-btn color=\"rgb(102, 102, 102)\" to=\"/\">\n                                Główna\n                            </v-btn>\n                            <v-spacer></v-spacer>\n                            <v-btn color=\"rgb(102, 102, 102)\" @click=\"() => { this.reg = !this.reg }\">\n                                {{ this.reg ? 'Zaloguj się' : 'Zajerestruj się' }}\n                            </v-btn>\n                            <v-spacer></v-spacer>\n                            <v-btn color=\"rgb(102, 102, 102)\" :disabled=\"!valid\"\n                                @click=\"() => { !this.reg ? login() : register() }\">\n                                Dalej\n                            </v-btn>\n                        </v-card-actions>\n                    </v-card>\n                </v-col>\n            </v-row>\n        </v-container>\n    </v-main>\n</template>\n  \n<script>\nimport axios from 'axios'\n\nexport default {\n    name: 'ShowLogin',\n    data() {\n        return {\n            reg: false,\n            username: '',\n            email: '',\n            password: '',\n            nameRules: [\n                (v) => !!v || 'Nazwa użytkownika jest wymagana',\n                (v) => /^[a-zA-Z]{3,15}$/i.test(v) || 'Nazwa użytkownika nie jest poprawna',\n            ],\n            emailRules: [\n                (v) => !!v || 'Email jest wymagany',\n                (v) => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/i.test(v) || 'Email nie jest poprawny',\n            ],\n            passwordRules: [\n                (v) => !!v || 'Hasło jest wymagane',\n                (v) => /^[a-zA-Z]{8,100}$/i.test(v) || 'Hasło nie jest poprawne',\n            ],\n        }\n    },\n    methods: {\n        login() {\n            axios\n                .post('/login_user', { name: this.username, email: this.email, password: this.password }, {\n                    headers: { 'Content-Type': 'application/json' },\n                })\n                .then(response => {\n                    const obj = response.data\n                    console.log(response.data)\n                    if (obj.name === undefined || obj.email === undefined || obj.password === undefined) {\n                        return\n                    }\n                    localStorage.setItem('user_name', obj.name)\n                    localStorage.setItem('user_email', obj.email)\n                    localStorage.setItem('user_password', obj.password)\n                    window.location.href = '/chat';\n                })\n        },\n        register() {\n            axios\n                .post('/add_user', { name: this.username, email: this.email, password: this.password }, {\n                    headers: { 'Content-Type': 'application/json' },\n                })\n                .then(response => {\n                    const obj = response.data\n                    console.log(response.data)\n                    if (obj.name === undefined || obj.email === undefined || obj.password === undefined) {\n                        return\n                    }\n                    localStorage.setItem('user_name', obj.name)\n                    localStorage.setItem('user_email', obj.email)\n                    localStorage.setItem('user_password', obj.password)\n                    window.location.href = '/chat';\n                })\n        },\n    },\n    computed: {\n        valid() {\n            return /^[a-zA-Z]{3,15}$/i.test(this.name) && /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/i.test(this.email) && /^[a-zA-Z]{8,100}$/i.test(this.password)\n        },\n    },\n}\n</script>\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}